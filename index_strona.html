<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Arawis - Akademia Gwiazdy Porannej</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --steel: #778899;
            --pearl: #f5f5f5;
            --ice-blue: #e0f2ff;
            --olive: #556b2f;
            --gold: #d4af37;
            --deep-slate: #2f4f4f;
        }

        body {
            background: radial-gradient(circle at center, var(--ice-blue) 0%, var(--steel) 100%);
            color: var(--deep-slate);
            font-family: 'Georgia', serif;
            margin: 0;
            min-height: 100vh;
            overflow-x: hidden;
            cursor: url('https://cur.cursors-4u.net/games/gam-4/gam372.cur'), auto;
        }

        .stars {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://www.transparenttextures.com/patterns/stardust.png');
            z-index: -1;
            opacity: 0.3;
        }

        /* GWIAZDY AKADEMII */
        .shooting-star {
            position: fixed;
            width: 3px; height: 3px;
            background: var(--pearl);
            box-shadow: 0 0 10px white, -15px 15px 10px var(--gold);
            border-radius: 50%;
            pointer-events: none;
            z-index: 100;
            animation: shootAnim 3s linear forwards;
        }
        @keyframes shootAnim {
            0% { transform: translate(0, 0) scale(1); opacity: 1; }
            100% { transform: translate(-400px, 400px) scale(0); opacity: 0; }
        }

        header { text-align: center; padding: 30px; border-bottom: 2px solid var(--gold); background: rgba(255,255,255,0.2); }
        h1 { font-size: 2.8em; letter-spacing: 4px; color: var(--deep-slate); margin: 0; text-shadow: 1px 1px 2px var(--gold); }
        
        .varda-symbol {
            display: block; margin: 15px auto; width: 50px; height: 50px; cursor: pointer;
            filter: drop-shadow(0 0 5px var(--gold)); animation: pulse-glow 4s infinite;
        }
        @keyframes pulse-glow {
            0%, 100% { transform: scale(1); filter: drop-shadow(0 0 5px var(--gold)); }
            50% { transform: scale(1.1); filter: drop-shadow(0 0 15px var(--ice-blue)); }
        }

        /* ZAK≈ÅADKI AKADEMII */
        .tab-container { width: 95%; max-width: 1000px; margin: 30px auto; }
        .tab-buttons { display: flex; justify-content: center; gap: 12px; margin-bottom: 25px; flex-wrap: wrap; }
        .tab-button {
            background: var(--pearl); border: 2px solid var(--steel); color: var(--deep-slate);
            padding: 12px 22px; cursor: pointer; border-radius: 5px; transition: 0.4s; 
            font-weight: bold; text-transform: uppercase;
        }
        .tab-button.active { 
            background: var(--steel); color: white; border-color: var(--gold); 
            box-shadow: 0 0 15px var(--gold); 
        }
        .tab-button:hover { border-color: var(--gold); transform: translateY(-2px); }

        .tab-content {
            display: none; background: rgba(255, 255, 255, 0.9); border: 3px solid var(--steel);
            padding: 30px; border-radius: 10px; box-shadow: 10px 10px 0px var(--olive);
        }
        .tab-content.active { display: block; }

        /* INPUTY */
        input, select, textarea { 
            background: white; color: var(--deep-slate); border: 2px solid var(--steel); 
            padding: 10px; border-radius: 4px; 
        }

        .math-box { background: var(--ice-blue); border-left: 5px solid var(--olive); color: var(--deep-slate); }
        
        .music-player { border: 2px solid var(--gold); background: var(--pearl); border-radius: 8px; padding: 15px; }

        /* PORTALE */
        .gemini-portal { 
            right: 30px; background: var(--gold); border: 2px solid white; 
            box-shadow: 0 0 15px rgba(0,0,0,0.2); text-decoration: none; 
        }
        .gemini-portal::after { content: '‚ú¶'; color: white; font-size: 24px; }
        
        .thought-portal { 
            left: 30px; background: var(--olive); border: 2px solid white; 
            box-shadow: 0 0 15px rgba(0,0,0,0.2); 
        }
        .thought-portal::after { content: '‚úé'; color: white; font-size: 24px; }

        #thought-popup {
            background: white; border: 3px solid var(--olive); color: var(--deep-slate);
        }

        .mission-link {
            border: 2px solid var(--deep-slate); color: white; padding: 15px; border-radius: 5px;
            text-decoration: none; font-weight: bold; display: block; margin: 10px 0; text-align: center;
        }
        .link-tasks { background: var(--steel); }
        .link-keep { background: var(--olive); }
    </style>
</head>
<body>

<div class="stars"></div>
<div id="shooting-star-container"></div>

<header>
    <h1 onclick="alert('Witaj w Akademii, Mentorko Amariel!')">‚úß ARAWIS ‚úß</h1>
    <svg class="varda-symbol" viewBox="0 0 100 100" onclick="getVardaAdvice()" aria-label="Symbol Dziedzictwa">
        <path d="M50 0 L60 40 L100 50 L60 60 L50 100 L40 60 L0 50 L40 40 Z" fill="var(--gold)"/>
        <circle cx="50" cy="50" r="12" fill="var(--pearl)"/>
    </svg>
    <div id="varda-message">MƒÖdro≈õƒá i Honor...</div>
</header>

<div class="tab-container">
    <div class="tab-buttons">
        <button class="tab-button active" onclick="openTab(event, 'timer')">Bia≈Çe Drzewo</button>
        <button class="tab-button" onclick="openTab(event, 'math')">Nauka</button>
        <button class="tab-button" onclick="openTab(event, 'calendar')">Harmonogram</button>
        <button class="tab-button" onclick="openTab(event, 'missions')">Misje</button>
        <button class="tab-button" onclick="openTab(event, 'notes')">Zapiski</button>
    </div>

    <div id="timer" class="tab-content active">
        <div id="tree-container" style="font-size:60px; text-align:center;">‚è≥</div>
        <div style="font-size: 3.5em; text-align: center; color: var(--deep-slate);" id="time-display">25:00</div>
        <div align="center"><button class="tab-button" onclick="startTreeTimer()">Rozpocznij Skupienie</button></div>
        <div class="music-player" align="center" style="margin-top:20px;">
            <input type="text" id="music-url" placeholder="Link do lekcji YT..." style="width:60%">
            <button class="tab-button" style="padding:5px 15px;" onclick="playNewMusic()">Graj</button>
            <iframe id="yt-player" style="height:60px; width:100%; margin-top:10px; border:none;" src="https://www.youtube.com/embed/Z6Lp_mE6u6A"></iframe>
        </div>
    </div>

    <div id="math" class="tab-content">
        <h2 align="center">Obliczenia Strategiczne</h2>
        <div align="center">
            <input type="number" id="numA" style="width:100px">
            <select id="op"><option value="+">+</option><option value="-">-</option><option value="*">√ó</option><option value="/">√∑</option></select>
            <input type="number" id="numB" style="width:100px">
            <button class="tab-button" onclick="performMath()">Licz</button>
        </div>
        <div id="math-result" style="margin-top:20px; padding:15px; background:var(--ice-blue); border-left:5px solid var(--gold); font-family:monospace;">Wynik pojawi siƒô tutaj...</div>
    </div>

    <div id="calendar" class="tab-content">
        <iframe src="https://calendar.google.com/calendar/embed?src=lucja.m.reczek%40gmail.com&ctz=Europe%2FWarsaw" style="border:none; width:100%; height:450px;"></iframe>
        <div align="center" style="margin-top:15px;">
            <button class="tab-button" style="background:var(--olive); color:white;" onclick="prepareNokia()">‚òé EKSPORT DO NOKII</button>
            <div id="nokia-output" style="background:#c2cfa3; color:black; font-family:monospace; padding:10px; border:2px solid black; display:none; margin-top:10px;"></div>
        </div>
    </div>

    <div id="missions" class="tab-content">
        <h2 align="center">Centrum Misji</h2>
        <a href="https://tasks.google.com/embed/" target="_blank" class="mission-link link-tasks">‚öî OTW√ìRZ ZADANIA AKADEMII ‚öî</a>
        <a href="https://keep.google.com/" target="_blank" class="mission-link link-keep">üìú OTW√ìRZ ARCHIWUM NOTATEK üìú</a>
    </div>

    <div id="notes" class="tab-content">
        <textarea id="myNotes" style="width: 100%; height: 300px; border: 2px solid var(--steel);" placeholder="Wpisz swoje spostrze≈ºenia..."></textarea>
        <button class="tab-button" style="margin-top:10px" onclick="saveNotes()">Zapisz w Archiwum</button>
    </div>
</div>

<a href="https://gemini.google.com/" target="_blank" class="gemini-portal" style="position:fixed; bottom:25px; right:25px; width:55px; height:55px; border-radius:50%; display:flex; align-items:center; justify-content:center;"></a>
<div class="thought-portal" onclick="toggleThoughts()" style="position:fixed; bottom:25px; left:25px; width:55px; height:55px; border-radius:50%; display:flex; align-items:center; justify-content:center;"></div>

<div id="thought-popup" style="display:none; position:fixed; bottom:90px; left:25px; padding:15px; border-radius:10px; width:220px; z-index:1001; box-shadow: 0 0 10px rgba(0,0,0,0.3);">
    <input type="text" id="new-thought" placeholder="Szybka my≈õl..." style="width:70%">
    <button onclick="addThought()">+</button>
    <ul id="mini-thought-list" style="list-style:none; padding:10px 0; margin:0; font-size:0.9em; max-height:100px; overflow-y:auto;"></ul>
</div>

<script>
    function openTab(evt, name) {
        document.querySelectorAll('.tab-content').forEach(c => c.style.display = 'none');
        document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
        document.getElementById(name).style.display = 'block';
        evt.currentTarget.classList.add('active');
    }

    function playNewMusic() {
        let val = document.getElementById('music-url').value;
        let id = val.includes('v=') ? val.split('v=')[1].split('&')[0] : val.split('/').pop();
        document.getElementById('yt-player').src = "https://www.youtube.com/embed/" + id + "?autoplay=1";
    }

    function performMath() {
        let a = Number(document.getElementById('numA').value);
        let b = Number(document.getElementById('numB').value);
        let op = document.getElementById('op').value;
        if(op === '/' && b === 0) { alert("Nie dziel przez zero!"); return; }
        document.getElementById('math-result').innerText = "WYNIK STRATEGICZNY: " + eval(a + op + b);
    }

    let timer;
    function startTreeTimer() {
        let t = 25 * 60; let tree = document.getElementById('tree-container');
        tree.innerHTML = "üå±"; clearInterval(timer);
        timer = setInterval(() => {
            let m = Math.floor(t/60), s = t%60;
            document.getElementById('time-display').innerText = m + ":" + (s<10?'0':'') + s;
            if(t<=0) { clearInterval(timer); tree.innerHTML = "‚ú® üå≥ ‚ú®"; alert("Zadanie uko≈Ñczone, Mentorko!"); }
            t--;
        }, 1000);
    }

    function getVardaAdvice() {
        const ads = ["Honor ponad wszystko.", "Spok√≥j lodowego b≈Çƒôkitu pomo≈ºe w nauce.", "ADHD to szybko≈õƒá smoczego lotu.", "Dyscyplina stali buduje potƒôgƒô.", "Zr√≥b 5 g≈Çƒôbokich wdech√≥w."];
        const m = document.getElementById('varda-message');
        m.innerText = ads[Math.floor(Math.random()*ads.length)];
    }

    function createStar() {
        const s = document.createElement('div');
        s.className = 'shooting-star';
        s.style.left = Math.random()*100+'vw'; s.style.top = Math.random()*40+'vh';
        document.getElementById('shooting-star-container').appendChild(s);
        setTimeout(() => s.remove(), 3000);
    }
    setInterval(createStar, 5000);

    function toggleThoughts() {
        let p = document.getElementById('thought-popup');
        p.style.display = p.style.display === 'block' ? 'none' : 'block';
    }
    function addThought() {
        let v = document.getElementById('new-thought').value;
        if(v) {
            let li = document.createElement('li'); li.innerText = "‚úß " + v;
            document.getElementById('mini-thought-list').prepend(li);
            document.getElementById('new-thought').value = "";
        }
    }

    function prepareNokia() {
        let t = prompt("Wklej plan dla Nokii:");
        if(t) {
            let o = document.getElementById('nokia-output');
            o.style.display = 'block';
            o.innerText = "AKADEMIA PLAN:\n" + t.toUpperCase();
        }
    }

    function saveNotes() { localStorage.setItem('arawis_notes', document.getElementById('myNotes').value); alert("Zapisano w Archiwach!"); }
    window.onload = function() { document.getElementById('myNotes').value = localStorage.getItem('arawis_notes') || ""; }
</script>

</body>
</html>
