<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Arawis - Gwiazda Poranna Rivendell</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --night-blue: #0a1428;
            --silver: #c0c0c0;
            --star-glow: #e0f2ff;
            --cyrkon-blue: #00d4ff;
        }

        body {
            background: radial-gradient(circle at center, #1a2a44 0%, #0a1428 100%);
            color: var(--silver);
            font-family: 'Georgia', serif;
            margin: 0;
            min-height: 100vh;
            overflow-x: hidden;
            cursor: url('https://cur.cursors-4u.net/games/gam-4/gam372.cur'), auto;
        }

        /* T≈ÅO, GWIAZDY I KONSTELACJE */
        .stars {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://www.transparenttextures.com/patterns/stardust.png');
            z-index: -1;
            animation: twinkle 5s infinite ease-in-out;
        }

        @keyframes twinkle { 0%, 100% { opacity: 0.4; } 50% { opacity: 1; } }

        .shooting-star {
            position: fixed;
            top: -10px; left: 80%; width: 3px; height: 3px;
            background: white;
            box-shadow: 0 0 10px white, 0 0 20px white, -20px 20px 15px rgba(255,255,255,0.5);
            border-radius: 50%; opacity: 0;
            animation: shoot 6s infinite ease-in; z-index: 100; pointer-events: none;
        }

        @keyframes shoot {
            0% { transform: translate(0, 0) scale(1); opacity: 0; }
            5% { opacity: 1; }
            20% { transform: translate(-100vh, 100vh) scale(0.1); opacity: 0; }
            100% { opacity: 0; }
        }

        .constellation {
            position: fixed; z-index: -1; opacity: 0.6; pointer-events: none;
            filter: drop-shadow(0 0 8px var(--cyrkon-blue));
        }
        #valacirca { top: 10%; left: 5%; width: 200px; transform: rotate(-20deg); }

        /* NAG≈Å√ìWEK I RADA VARDY */
        header { text-align: center; padding: 30px; }
        h1 { font-size: 2.5em; letter-spacing: 5px; color: white; margin: 0; text-shadow: 0 0 15px var(--star-glow); }
        
        .varda-symbol {
            display: block; margin: 15px auto; width: 50px; height: 50px; cursor: pointer;
            filter: drop-shadow(0 0 10px white); animation: pulse-glow 3s infinite;
        }
        @keyframes pulse-glow {
            0%, 100% { transform: scale(1); filter: drop-shadow(0 0 5px white); }
            50% { transform: scale(1.1); filter: drop-shadow(0 0 20px var(--cyrkon-blue)); }
        }
        #varda-message { text-align: center; font-style: italic; min-height: 40px; margin: 10px auto; color: white; text-shadow: 0 0 5px var(--cyrkon-blue); }

        /* ZAK≈ÅADKI */
        .tab-container { width: 95%; max-width: 1000px; margin: 0 auto; }
        .tab-buttons { display: flex; justify-content: center; gap: 15px; margin-bottom: 25px; flex-wrap: wrap; }
        .tab-button {
            background: rgba(10, 25, 47, 0.6); border: 1px solid var(--silver); color: var(--silver);
            padding: 10px 20px; cursor: pointer; border-radius: 30px; transition: 0.4s; text-transform: uppercase;
        }
        .tab-button:hover, .tab-button.active {
            background: white; color: var(--night-blue); box-shadow: 0 0 20px var(--cyrkon-blue); transform: translateY(-2px);
        }
        .tab-content {
            display: none; background: rgba(10, 20, 40, 0.85); border: 1px solid rgba(192, 192, 192, 0.2);
            padding: 30px; border-radius: 20px; backdrop-filter: blur(10px);
        }
        .tab-content.active { display: block; }

        /* MATEMATYKA I MUZYKA */
        .math-box { font-family: 'Courier New', monospace; background: rgba(255,255,255,0.05); padding: 15px; border-radius: 10px; border-left: 4px solid var(--cyrkon-blue); margin-top: 15px; }
        .music-player { background: rgba(10, 25, 47, 0.7); border: 1px solid var(--cyrkon-blue); border-radius: 15px; padding: 10px; margin-top: 20px; max-width: 400px; margin: 20px auto; }
        #yt-player { height: 60px; width: 100%; border-radius: 10px; margin-top: 10px; }

        /* WIDOK NOKIA */
        .nokia-view {
            background: #c2cfa3; color: #000; font-family: monospace; padding: 10px; 
            margin-top: 10px; border: 4px double #444; border-radius: 5px; display: none;
        }

        /* PORTALE */
        .gemini-portal, .thought-portal {
            position: fixed; bottom: 30px; width: 60px; height: 60px; border-radius: 50%; 
            display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 1000; transition: 0.3s;
        }
        .gemini-portal { right: 30px; background: radial-gradient(circle, #e0f2ff 0%, #00d4ff 100%); box-shadow: 0 0 20px rgba(0, 212, 255, 0.6); text-decoration: none; }
        .gemini-portal::after { content: '‚ú¶'; color: white; font-size: 24px; }
        .thought-portal { left: 30px; background: radial-gradient(circle, #fdfbfb 0%, #ebedee 100%); box-shadow: 0 0 20px white; }
        .thought-portal::after { content: '‚úé'; color: #0a1428; font-size: 24px; }

        #thought-popup {
            display: none; position: fixed; bottom: 100px; left: 30px; background: rgba(10, 20, 40, 0.95);
            border: 1px solid white; padding: 15px; border-radius: 15px; width: 250px; z-index: 1001;
        }

        iframe { border-radius: 10px; width: 100%; height: 500px; border: none; }
        textarea, input { background: #1a2a44; color: white; border: 1px solid var(--silver); padding: 8px; border-radius: 5px; }
    </style>
</head>
<body>

<div class="stars"></div>
<div class="shooting-star"></div>

<svg id="valacirca" class="constellation" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <circle cx="10" cy="50" r="1.5" fill="white" /><circle cx="25" cy="45" r="1.5" fill="white" />
    <circle cx="40" cy="50" r="1.5" fill="white" /><circle cx="55" cy="65" r="2" fill="white" />
    <path d="M10 50 L25 45 L40 50 L55 65 L75 65 L75 45 L55 45 L55 65" stroke="rgba(0, 212, 255, 0.3)" stroke-width="0.5" fill="none" />
</svg>

<header>
    <h1>‚úß ARAWIS ‚úß</h1>
    <p>Gwiazda Poranna Rivendell</p>
    <svg class="varda-symbol" viewBox="0 0 100 100" onclick="getVardaAdvice()">
        <path d="M50 0 L60 40 L100 50 L60 60 L50 100 L40 60 L0 50 L40 40 Z" fill="white"/>
        <circle cx="50" cy="50" r="10" fill="var(--cyrkon-blue)"/>
    </svg>
    <div id="varda-message">Kliknij w Gwiazdƒô Elent√°ri...</div>
</header>

<div class="tab-container">
    <div class="tab-buttons">
        <button class="tab-button active" onclick="openTab(event, 'timer')">Bia≈Çe Drzewo</button>
        <button class="tab-button" onclick="openTab(event, 'math')">Matematyka</button>
        <button class="tab-button" onclick="openTab(event, 'calendar')">Kalendarz</button>
        <button class="tab-button" onclick="openTab(event, 'notes')">Notatnik</button>
    </div>

    <div id="timer" class="tab-content active">
        <div id="tree-container" style="font-size:60px; text-align:center;">‚è≥</div>
        <div style="font-size: 3.5em; text-align: center; margin-bottom: 20px;" id="time-display">25:00</div>
        <div align="center"><button class="tab-button" onclick="startTreeTimer()">Zasad≈∫ Drzewo</button></div>

        <div class="music-player" align="center">
            <input type="text" id="music-url" placeholder="Link YouTube Music..." style="width:70%; font-size:10px;">
            <button class="tab-button" style="padding:5px; font-size:10px;" onclick="playNewMusic()">Graj</button>
            <iframe id="yt-player" src="https://www.youtube.com/embed/Z6Lp_mE6u6A"></iframe>
        </div>
    </div>

    <div id="math" class="tab-content">
        <h2 align="center">Matematyka Elf√≥w</h2>
        <div align="center">
            <input type="number" id="numA" placeholder="Liczba A">
            <select id="op">
                <option value="add">+</option><option value="sub">-</option>
                <option value="mul">√ó</option><option value="div">√∑</option>
            </select>
            <input type="number" id="numB" placeholder="Liczba B">
            <button class="tab-button" onclick="performMath()">Oblicz</button>
        </div>
        <div id="math-result" class="math-box">Tu pojawi siƒô wynik...</div>
    </div>

    <div id="calendar" class="tab-content">
        <iframe src="https://calendar.google.com/calendar/embed?src=lucja.m.reczek%40gmail.com&ctz=Europe%2FWarsaw"></iframe>
        <div align="center" style="margin-top:20px;">
            <button class="tab-button" style="font-size:0.8em; border-color:#0f0;" onclick="prepareNokia()">‚òé PRZEKA≈πNIK DLA NOKII</button>
            <div id="nokia-output" class="nokia-view"></div>
        </div>
    </div>

    <div id="notes" class="tab-content">
        <textarea id="myNotes" style="width: 100%; height: 250px;"></textarea>
        <button class="tab-button" style="margin-top:10px" onclick="saveNotes()">Zapisz Notatki</button>
    </div>
</div>

<a href="https://gemini.google.com/" target="_blank" class="gemini-portal"></a>
<div class="thought-portal" onclick="toggleThoughts()"></div>
<div id="thought-popup">
    <input type="text" id="new-thought" placeholder="Szybka my≈õl..." style="width:70%">
    <button onclick="addThought()" style="cursor:pointer; border-radius:50%;">+</button>
    <ul id="mini-thought-list" style="list-style:none; padding:10px 0; color:white; font-size:0.8em; max-height:100px; overflow-y:auto;"></ul>
</div>

<script>
    function openTab(evt, name) {
        let contents = document.getElementsByClassName("tab-content");
        for (let c of contents) { c.style.display = "none"; }
        let buttons = document.getElementsByClassName("tab-button");
        for (let b of buttons) { b.classList.remove("active"); }
        document.getElementById(name).style.display = "block";
        evt.currentTarget.classList.add("active");
    }

    function playNewMusic() {
        let input = document.getElementById('music-url').value;
        let id = input.includes('v=') ? input.split('v=')[1].split('&')[0] : input.split('/').pop();
        document.getElementById('yt-player').src = "https://www.youtube.com/embed/" + id + "?autoplay=1";
    }

    function performMath() {
        let a = Number(document.getElementById('numA').value);
        let b = Number(document.getElementById('numB').value);
        let op = document.getElementById('op').value;
        let res = op==='add'?a+b:op==='sub'?a-b:op==='mul'?a*b:a/b;
        document.getElementById('math-result').innerText = "Wynik: " + res;
    }

    let timer;
    function startTreeTimer() {
        let t = 25 * 60; let tree = document.getElementById('tree-container');
        tree.innerHTML = "üå±"; clearInterval(timer);
        timer = setInterval(() => {
            let m = Math.floor(t / 60); let s = t % 60;
            document.getElementById('time-display').innerText = m + ":" + (s<10?'0':'') + s;
            if(t<=0) { clearInterval(timer); tree.innerHTML = "‚ú® üå≥ ‚ú®"; alert("Uros≈Ço!"); }
            t--;
        }, 1000);
    }

    function prepareNokia() {
        let text = prompt("Wklej tutaj dzisiejszy plan z kalendarza:");
        if(text) {
            let out = document.getElementById('nokia-output');
            out.style.display = "block";
            out.innerText = "PLAN DNIA NOKIA:\n" + text.substring(0, 160);
        }
    }

    const vardaAdvices = ["Gwiazdy rozpraszajƒÖ ciemno≈õƒá.", "ADHD to szybkie my≈õli - daj im p≈ÇynƒÖƒá.", "5 oddech√≥w dla spokoju.", "Skup siƒô przez 10 minut.", "Jeste≈õ ≈õwiat≈Çem Rivendell."];
    function getVardaAdvice() {
        let msg = document.getElementById('varda-message');
        msg.style.opacity = 0;
        setTimeout(() => {
            msg.innerText = vardaAdvices[Math.floor(Math.random()*vardaAdvices.length)];
            msg.style.opacity = 1;
        }, 300);
    }

    function toggleThoughts() {
        let p = document.getElementById('thought-popup');
        p.style.display = p.style.display === 'block' ? 'none' : 'block';
    }
    function addThought() {
        let v = document.getElementById('new-thought').value;
        if(v) {
            let li = document.createElement('li'); li.innerText = "‚úß " + v;
            document.getElementById('mini-thought-list').prepend(li);
            document.getElementById('new-thought').value = "";
        }
    }

    function saveNotes() { localStorage.setItem('arawis_notes', document.getElementById('myNotes').value); alert("Zapisano!"); }
    window.onload = function() { document.getElementById('myNotes').value = localStorage.getItem('arawis_notes') || ""; }
</script>

</body>
</html>
