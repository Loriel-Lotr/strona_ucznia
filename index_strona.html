<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Arawis - Rubinowa Akademia</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --ruby: #800020; /* Bordowy / Rubinowy */
            --bright-ruby: #a52a2a;
            --old-gold: #b8860b; /* Stare z≈Çoto */
            --emerald: #046307; /* Szmaragdowa ziele≈Ñ */
            --parchment: #f5f5dc; /* Kolor pergaminu dla tekstu */
            --dark-void: #1a0505; /* Prawie czarne bordo na t≈Ço */
        }

        body {
            background: radial-gradient(circle at center, #3d0a0a 0%, var(--dark-void) 100%);
            color: var(--parchment);
            font-family: 'Georgia', serif;
            margin: 0;
            min-height: 100vh;
            overflow-x: hidden;
            cursor: url('https://cur.cursors-4u.net/games/gam-4/gam372.cur'), auto;
        }

        .stars {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://www.transparenttextures.com/patterns/stardust.png');
            z-index: -1;
            opacity: 0.5;
        }

        /* GWIAZDY RUBINOWEJ STRA≈ªY */
        .shooting-star {
            position: fixed;
            width: 3px; height: 3px;
            background: var(--old-gold);
            box-shadow: 0 0 10px var(--old-gold), -15px 15px 10px var(--bright-ruby);
            border-radius: 50%;
            pointer-events: none;
            z-index: 100;
            animation: shootAnim 3s linear forwards;
        }
        @keyframes shootAnim {
            0% { transform: translate(0, 0) scale(1); opacity: 1; }
            100% { transform: translate(-400px, 400px) scale(0); opacity: 0; }
        }

        header { 
            text-align: center; 
            padding: 30px; 
            border-bottom: 3px double var(--old-gold); 
            background: rgba(0,0,0,0.3); 
        }
        h1 { 
            font-size: 2.8em; 
            letter-spacing: 6px; 
            color: var(--old-gold); 
            margin: 0; 
            text-shadow: 2px 2px 4px black; 
        }
        
        .varda-symbol {
            display: block; margin: 15px auto; width: 50px; height: 50px; cursor: pointer;
            filter: drop-shadow(0 0 10px var(--old-gold)); animation: pulse-glow 4s infinite;
        }
        @keyframes pulse-glow {
            0%, 100% { transform: scale(1); filter: drop-shadow(0 0 5px var(--old-gold)); }
            50% { transform: scale(1.1); filter: drop-shadow(0 0 20px var(--bright-ruby)); }
        }

        /* ZAK≈ÅADKI STRA≈ªY */
        .tab-container { width: 95%; max-width: 1000px; margin: 30px auto; }
        .tab-buttons { display: flex; justify-content: center; gap: 12px; margin-bottom: 25px; flex-wrap: wrap; }
        .tab-button {
            background: var(--ruby); border: 2px solid var(--old-gold); color: var(--old-gold);
            padding: 12px 22px; cursor: pointer; border-radius: 0px; /* Bardziej surowy wyglƒÖd */
            transition: 0.4s; font-weight: bold; text-transform: uppercase;
        }
        .tab-button.active { 
            background: var(--old-gold); color: var(--ruby); 
            box-shadow: 0 0 20px var(--old-gold); 
        }
        .tab-button:hover { background: var(--bright-ruby); color: white; }

        .tab-content {
            display: none; 
            background: rgba(40, 5, 5, 0.9); 
            border: 2px solid var(--old-gold);
            padding: 30px; border-radius: 5px; 
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
        }
        .tab-content.active { display: block; border-left: 10px solid var(--ruby); }

        /* ELEMENTY */
        input, select, textarea { 
            background: #2a0505; color: var(--parchment); border: 1px solid var(--old-gold); 
            padding: 10px; border-radius: 0; 
        }

        .math-box { background: rgba(0,0,0,0.4); border: 1px solid var(--old-gold); color: var(--old-gold); }
        
        .music-player { border: 1px solid var(--old-gold); background: rgba(0,0,0,0.5); padding: 15px; margin-top: 20px; }

        /* PORTALE */
        .gemini-portal { 
            right: 30px; background: var(--old-gold); 
            box-shadow: 0 0 20px var(--ruby); text-decoration: none; 
        }
        .gemini-portal::after { content: '‚ú¶'; color: var(--ruby); font-size: 24px; }
        
        .thought-portal { 
            left: 30px; background: var(--ruby); border: 1px solid var(--old-gold); 
            box-shadow: 0 0 20px black; 
        }
        .thought-portal::after { content: '‚úé'; color: var(--old-gold); font-size: 24px; }

        .mission-link {
            border: 1px solid var(--old-gold); color: var(--parchment); padding: 15px;
            text-decoration: none; font-weight: bold; display: block; margin: 10px 0; text-align: center;
            transition: 0.3s;
        }
        .link-tasks { background: var(--ruby); }
        .link-keep { background: var(--emerald); } /* Tutaj ziele≈Ñ szmaragdowa */
        .mission-link:hover { transform: scale(1.02); filter: brightness(1.2); }
    </style>
</head>
<body>

<div class="stars"></div>
<div id="shooting-star-container"></div>

<header>
    <h1 onclick="alert('Krew Smoka, Serce Gwiazdy!')">‚úß ARAWIS ‚úß</h1>
    <svg class="varda-symbol" viewBox="0 0 100 100" onclick="getVardaAdvice()" aria-label="Symbol Rubinowej Stra≈ºy">
        <path d="M50 0 L60 40 L100 50 L60 60 L50 100 L40 60 L0 50 L40 40 Z" fill="var(--old-gold)"/>
        <circle cx="50" cy="50" r="12" fill="var(--ruby)"/>
    </svg>
    <div id="varda-message">Dyscyplina i MƒÖdro≈õƒá...</div>
</header>

<div class="tab-container">
    <div class="tab-buttons">
        <button class="tab-button active" onclick="openTab(event, 'timer')">Bia≈Çe Drzewo</button>
        <button class="tab-button" onclick="openTab(event, 'math')">Nauka</button>
        <button class="tab-button" onclick="openTab(event, 'calendar')">Harmonogram</button>
        <button class="tab-button" onclick="openTab(event, 'missions')">Misje</button>
        <button class="tab-button" onclick="openTab(event, 'notes')">Zapiski</button>
    </div>

    <div id="timer" class="tab-content active">
        <div id="tree-container" style="font-size:60px; text-align:center;">‚è≥</div>
        <div style="font-size: 3.5em; text-align: center; color: var(--old-gold); text-shadow: 0 0 10px var(--ruby);" id="time-display">25:00</div>
        <div align="center"><button class="tab-button" onclick="startTreeTimer()">Rozpocznij Skupienie</button></div>
        <div class="music-player" align="center">
            <input type="text" id="music-url" placeholder="Pie≈õni Akademii..." style="width:60%">
            <button class="tab-button" style="padding:5px 15px;" onclick="playNewMusic()">Graj</button>
            <iframe id="yt-player" style="height:60px; width:100%; margin-top:10px; border:none; filter: sepia(1);" src="https://www.youtube.com/embed/Z6Lp_mE6u6A"></iframe>
        </div>
    </div>

    <div id="math" class="tab-content">
        <h2 align="center" style="color:var(--old-gold)">Obliczenia Wojenne</h2>
        <div align="center">
            <input type="number" id="numA" style="width:100px">
            <select id="op"><option value="+">+</option><option value="-">-</option><option value="*">√ó</option><option value="/">√∑</option></select>
            <input type="number" id="numB" style="width:100px">
            <button class="tab-button" onclick="performMath()">Licz</button>
        </div>
        <div id="math-result" style="margin-top:20px; padding:15px; background:rgba(0,0,0,0.5); border:1px solid var(--old-gold); font-family:monospace; color:var(--old-gold);">Oczekiwanie na dane...</div>
    </div>

    <div id="calendar" class="tab-content">
        <iframe src="https://calendar.google.com/calendar/embed?src=lucja.m.reczek%40gmail.com&ctz=Europe%2FWarsaw" style="border:1px solid var(--old-gold); width:100%; height:450px; filter: invert(0.9) hue-rotate(180deg);"></iframe>
        <div align="center" style="margin-top:15px;">
            <button class="tab-button" style="background:var(--emerald); color:white; border-color:white;" onclick="prepareNokia()">‚òé EKSPORT DO NOKII</button>
            <div id="nokia-output" style="background:#c2cfa3; color:black; font-family:monospace; padding:10px; border:2px solid black; display:none; margin-top:10px;"></div>
        </div>
    </div>

    <div id="missions" class="tab-content">
        <h2 align="center" style="color:var(--old-gold)">Tablica Rozkaz√≥w</h2>
        <a href="https://tasks.google.com/embed/" target="_blank" class="mission-link link-tasks">‚öî GOOGLE TASKS ‚öî</a>
        <a href="https://keep.google.com/" target="_blank" class="mission-link link-keep">üìú GOOGLE KEEP üìú</a>
    </div>

    <div id="notes" class="tab-content">
        <textarea id="myNotes" style="width: 100%; height: 300px; border: 1px solid var(--old-gold); background:#1a0505;" placeholder="Twoje tajne zapiski..."></textarea>
        <button class="tab-button" style="margin-top:10px" onclick="saveNotes()">Zapisz w Archiwum</button>
    </div>
</div>

<a href="https://gemini.google.com/" target="_blank" class="gemini-portal" style="position:fixed; bottom:25px; right:25px; width:55px; height:55px; border-radius:50%; display:flex; align-items:center; justify-content:center;"></a>
<div class="thought-portal" onclick="toggleThoughts()" style="position:fixed; bottom:25px; left:25px; width:55px; height:55px; border-radius:50%; display:flex; align-items:center; justify-content:center;"></div>

<div id="thought-popup" style="display:none; position:fixed; bottom:90px; left:25px; padding:15px; border-radius:10px; width:220px; z-index:1001; background:var(--ruby); border:2px solid var(--old-gold);">
    <input type="text" id="new-thought" placeholder="Szybka my≈õl..." style="width:70%; background:black;">
    <button onclick="addThought()" style="background:var(--old-gold); color:var(--ruby); border:none; font-weight:bold;">+</button>
    <ul id="mini-thought-list" style="list-style:none; padding:10px 0; margin:0; font-size:0.9em; max-height:100px; overflow-y:auto; color:var(--old-gold);"></ul>
</div>

<script>
    function openTab(evt, name) {
        document.querySelectorAll('.tab-content').forEach(c => c.style.display = 'none');
        document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
        document.getElementById(name).style.display = 'block';
        evt.currentTarget.classList.add('active');
    }

    function playNewMusic() {
        let val = document.getElementById('music-url').value;
        let id = val.includes('v=') ? val.split('v=')[1].split('&')[0] : val.split('/').pop();
        document.getElementById('yt-player').src = "https://www.youtube.com/embed/" + id + "?autoplay=1";
    }

    function performMath() {
        let a = Number(document.getElementById('numA').value);
        let b = Number(document.getElementById('numB').value);
        let op = document.getElementById('op').value;
        if(op === '/' && b === 0) { alert("B≈ÇƒÖd w obliczeniach!"); return; }
        document.getElementById('math-result').innerText = "WYNIK STRATEGICZNY: " + eval(a + op + b);
    }

    let timer;
    function startTreeTimer() {
        let t = 25 * 60; let tree = document.getElementById('tree-container');
        tree.innerHTML = "üå±"; clearInterval(timer);
        timer = setInterval(() => {
            let m = Math.floor(t/60), s = t%60;
            document.getElementById('time-display').innerText = m + ":" + (s<10?'0':'') + s;
            if(t<=0) { clearInterval(timer); tree.innerHTML = "‚ú® üå≥ ‚ú®"; alert("Misja Skupienia Uko≈Ñczona!"); }
            t--;
        }, 1000);
    }

    function getVardaAdvice() {
        const ads = ["Rubinowa krew p≈Çynie w Twoich ≈ºy≈Çach.", "Z≈Çoto l≈õni najja≈õniej w ciemno≈õci.", "ADHD to p≈Çomie≈Ñ smoka - naucz siƒô go prowadziƒá.", "Cisza jest Twoim sprzymierze≈Ñcem.", "Niech Gwiazda prowadzi Tw√≥j miecz (i pi√≥ro)."];
        const m = document.getElementById('varda-message');
        m.innerText = ads[Math.floor(Math.random()*ads.length)];
    }

    function createStar() {
        const s = document.createElement('div');
        s.className = 'shooting-star';
        s.style.left = Math.random()*100+'vw'; s.style.top = Math.random()*40+'vh';
        document.getElementById('shooting-star-container').appendChild(s);
        setTimeout(() => s.remove(), 3000);
    }
    setInterval(createStar, 6000);

    function toggleThoughts() {
        let p = document.getElementById('thought-popup');
        p.style.display = p.style.display === 'block' ? 'none' : 'block';
    }
    function addThought() {
        let v = document.getElementById('new-thought').value;
        if(v) {
            let li = document.createElement('li'); li.innerText = "‚úß " + v;
            document.getElementById('mini-thought-list').prepend(li);
            document.getElementById('new-thought').value = "";
        }
    }

    function prepareNokia() {
        let t = prompt("Wpisz rozkazy dla Nokii:");
        if(t) {
            let o = document.getElementById('nokia-output');
            o.style.display = 'block';
            o.innerText = "ROZKAZY DNIA:\n" + t.toUpperCase();
        }
    }

    function saveNotes() { localStorage.setItem('arawis_notes', document.getElementById('myNotes').value); alert("Zapisano w Archiwach Rubinowej Stra≈ºy!"); }
    window.onload = function() { document.getElementById('myNotes').value = localStorage.getItem('arawis_notes') || ""; }
</script>

</body>
</html>
