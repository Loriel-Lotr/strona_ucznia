<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Arawis - Gwiazda Poranna Rivendell</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --night-blue: #0a1428;
            --silver: #c0c0c0;
            --star-glow: #e0f2ff;
            --cyrkon-blue: #00d4ff;
        }

        body {
            background: radial-gradient(circle at center, #1a2a44 0%, #0a1428 100%);
            color: var(--silver);
            font-family: 'Georgia', serif;
            margin: 0;
            min-height: 100vh;
            overflow-x: hidden;
            cursor: url('https://cur.cursors-4u.net/games/gam-4/gam372.cur'), auto;
        }

        .stars {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://www.transparenttextures.com/patterns/stardust.png');
            z-index: -1;
            animation: twinkle 5s infinite ease-in-out;
        }
        @keyframes twinkle { 0%, 100% { opacity: 0.4; } 50% { opacity: 1; } }

        /* Dynamiczne gwiazdy bƒôdƒÖ dodawane przez JS */
        .shooting-star {
            position: fixed;
            width: 2px; height: 2px;
            background: white;
            box-shadow: 0 0 10px white, -15px 15px 10px rgba(255,255,255,0.5);
            border-radius: 50%;
            pointer-events: none;
            z-index: 100;
            animation: shootAnim 3s linear forwards;
        }
        @keyframes shootAnim {
            0% { transform: translate(0, 0) scale(1); opacity: 1; }
            100% { transform: translate(-400px, 400px) scale(0); opacity: 0; }
        }

        header { text-align: center; padding: 20px; }
        h1 { font-size: 2.5em; letter-spacing: 5px; color: white; margin: 0; cursor: help; transition: 0.3s; }
        h1:hover { text-shadow: 0 0 30px var(--cyrkon-blue); }
        
        .varda-symbol {
            display: block; margin: 10px auto; width: 45px; height: 45px; cursor: pointer;
            filter: drop-shadow(0 0 10px white); animation: pulse-glow 3s infinite;
        }
        @keyframes pulse-glow {
            0%, 100% { transform: scale(1); filter: drop-shadow(0 0 5px white); }
            50% { transform: scale(1.1); filter: drop-shadow(0 0 20px var(--cyrkon-blue)); }
        }
        #varda-message { text-align: center; font-style: italic; min-height: 40px; transition: opacity 0.5s; color: white; }

        .tab-container { width: 95%; max-width: 1000px; margin: 0 auto; }
        .tab-buttons { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .tab-button {
            background: rgba(10, 25, 47, 0.6); border: 1px solid var(--silver); color: var(--silver);
            padding: 10px 18px; cursor: pointer; border-radius: 20px; transition: 0.4s; font-size: 0.9em;
        }
        .tab-button.active { background: white; color: var(--night-blue); box-shadow: 0 0 15px var(--cyrkon-blue); }

        .tab-content {
            display: none; background: rgba(10, 20, 40, 0.85); border: 1px solid rgba(192, 192, 192, 0.2);
            padding: 25px; border-radius: 20px; backdrop-filter: blur(8px);
        }
        .tab-content.active { display: block; }

        input, select, textarea { 
            background: #1a2a44; color: white; border: 1px solid var(--silver); 
            padding: 10px; border-radius: 8px; font-size: 14px; 
        }

        .music-player { background: rgba(10, 25, 47, 0.7); border: 1px solid var(--cyrkon-blue); border-radius: 15px; padding: 15px; margin: 20px auto; max-width: 450px; }
        #yt-player { height: 60px; width: 100%; border-radius: 8px; margin-top: 10px; border: none; }

        .nokia-view { background: #c2cfa3; color: #000; font-family: monospace; padding: 12px; border: 3px double #333; display: none; margin-top: 15px; }

        .gemini-portal, .thought-portal {
            position: fixed; bottom: 25px; width: 55px; height: 55px; border-radius: 50%; 
            display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 1000; transition: 0.3s;
        }
        .gemini-portal { right: 25px; background: radial-gradient(circle, #e0f2ff 0%, #00d4ff 100%); text-decoration: none; box-shadow: 0 0 15px var(--cyrkon-blue); }
        .thought-portal { left: 25px; background: radial-gradient(circle, #fdfbfb 0%, #ebedee 100%); box-shadow: 0 0 15px white; }
    </style>
</head>
<body>

<div class="stars"></div>
<div id="shooting-star-container"></div>

<header>
    <h1 onclick="alert('Elen s√≠la l√∫menn\' omentielvo ‚Äî Gwiazda ≈õwieci nad godzinƒÖ naszego spotkania, Amariel!')">‚úß ARAWIS ‚úß</h1>
    <svg class="varda-symbol" viewBox="0 0 100 100" onclick="getVardaAdvice()" aria-label="Symbol Vardy">
        <path d="M50 0 L60 40 L100 50 L60 60 L50 100 L40 60 L0 50 L40 40 Z" fill="white"/>
        <circle cx="50" cy="50" r="10" fill="var(--cyrkon-blue)"/>
    </svg>
    <div id="varda-message">Dotknij Gwiazdy Elent√°ri...</div>
</header>

<div class="tab-container">
    <div class="tab-buttons">
        <button class="tab-button active" onclick="openTab(event, 'timer')">Bia≈Çe Drzewo</button>
        <button class="tab-button" onclick="openTab(event, 'math')">Matematyka</button>
        <button class="tab-button" onclick="openTab(event, 'calendar')">Kalendarz</button>
        <button class="tab-button" onclick="openTab(event, 'missions')">Misje</button>
        <button class="tab-button" onclick="openTab(event, 'notes')">Notatnik</button>
    </div>

    <div id="timer" class="tab-content active">
        <div id="tree-container" style="font-size:55px; text-align:center;">‚è≥</div>
        <div style="font-size: 3.2em; text-align: center; margin-bottom: 20px;" id="time-display">25:00</div>
        <div align="center"><button class="tab-button" onclick="startTreeTimer()">Zasad≈∫ Drzewo</button></div>
        <div class="music-player" align="center">
            <div style="display:flex; gap:5px;">
                <input type="text" id="music-url" placeholder="Wklej link YouTube..." style="flex:1;">
                <button class="tab-button" style="padding:5px 15px;" onclick="playNewMusic()">Graj</button>
            </div>
            <iframe id="yt-player" src="https://www.youtube.com/embed/Z6Lp_mE6u6A"></iframe>
        </div>
    </div>

    <div id="math" class="tab-content">
        <div align="center">
            <input type="number" id="numA" style="width:80px">
            <select id="op"><option value="+">+</option><option value="-">-</option><option value="*">√ó</option><option value="/">√∑</option></select>
            <input type="number" id="numB" style="width:80px">
            <button class="tab-button" onclick="performMath()">Oblicz</button>
        </div>
        <div id="math-result" class="math-box">Czekam na liczby...</div>
    </div>

    <div id="calendar" class="tab-content">
        <iframe src="https://calendar.google.com/calendar/embed?src=lucja.m.reczek%40gmail.com&ctz=Europe%2FWarsaw" style="height:450px;"></iframe>
        <div align="center" style="margin-top:15px;">
            <button class="tab-button" onclick="prepareNokia()">‚òé PRZEKA≈πNIK DLA NOKII</button>
            <div id="nokia-output" class="nokia-view"></div>
        </div>
    </div>

    <div id="missions" class="tab-content">
        <h3 align="center">Misje i Keep</h3>
        <iframe src="https://keep.google.com/" style="height:500px;"></iframe>
    </div>

    <div id="notes" class="tab-content">
        <textarea id="myNotes" style="width: 100%; height: 280px; box-sizing: border-box;" placeholder="Twoje elfickie zapiski..."></textarea>
        <button class="tab-button" style="margin-top:10px" onclick="saveNotes()">Zapisz w pamiƒôci</button>
    </div>
</div>

<a href="https://gemini.google.com/" target="_blank" class="gemini-portal">‚ú¶</a>
<div class="thought-portal" onclick="toggleThoughts()">‚úé</div>
<div id="thought-popup" style="display:none; position:fixed; bottom:90px; left:25px; background:rgba(10,20,40,0.95); border:1px solid white; padding:15px; border-radius:15px; width:230px; z-index:1001;">
    <input type="text" id="new-thought" placeholder="My≈õl..." style="width:75%">
    <button onclick="addThought()" style="cursor:pointer; padding:5px;">+</button>
    <ul id="mini-thought-list" style="list-style:none; padding:10px 0; font-size:0.85em; color:white; max-height:120px; overflow-y:auto;"></ul>
</div>

<script>
    function openTab(evt, name) {
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
        document.getElementById(name).classList.add('active');
        evt.currentTarget.classList.add('active');
    }

    function playNewMusic() {
        const input = document.getElementById('music-url').value;
        const regExp = /^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;
        const match = input.match(regExp);
        const id = (match && match[2].length == 11) ? match[2] : input;
        document.getElementById('yt-player').src = "https://www.youtube.com/embed/" + id + "?autoplay=1";
    }

    function performMath() {
        const a = Number(document.getElementById('numA').value);
        const b = Number(document.getElementById('numB').value);
        const op = document.getElementById('op').value;
        if(op === '/' && b === 0) {
            document.getElementById('math-result').innerText = "B≈ÇƒÖd: Nie dziel przez 0!";
            return;
        }
        document.getElementById('math-result').innerText = "Wynik: " + eval(a + op + b);
    }

    let timer;
    function startTreeTimer() {
        let t = 25 * 60; const tree = document.getElementById('tree-container');
        tree.innerHTML = "üå±"; clearInterval(timer);
        timer = setInterval(() => {
            let m = Math.floor(t / 60), s = t % 60;
            document.getElementById('time-display').innerText = m + ":" + (s<10?'0':'') + s;
            if(t<=0) { clearInterval(timer); tree.innerHTML = "‚ú® üå≥ ‚ú®"; alert("Zrobione!"); }
            t--;
        }, 1000);
    }

    function getVardaAdvice() {
        const advices = ["Gwiazdy rozpraszajƒÖ mrok.", "ADHD to szybkie my≈õli - daj im p≈ÇynƒÖƒá.", "5 g≈Çƒôbokich oddech√≥w...", "Skup siƒô przez 10 minut.", "Jeste≈õ ≈õwiat≈Çem Rivendell."];
        const msg = document.getElementById('varda-message');
        msg.style.opacity = 0;
        setTimeout(() => {
            msg.innerText = advices[Math.floor(Math.random()*advices.length)];
            msg.style.opacity = 1;
        }, 400);
    }

    function createShootingStar() {
        const star = document.createElement('div');
        star.className = 'shooting-star';
        star.style.left = Math.random() * 100 + 'vw';
        star.style.top = Math.random() * 50 + 'vh';
        document.getElementById('shooting-star-container').appendChild(star);
        setTimeout(() => star.remove(), 3000);
    }
    setInterval(createShootingStar, 4000);

    function toggleThoughts() {
        const p = document.getElementById('thought-popup');
        p.style.display = p.style.display === 'block' ? 'none' : 'block';
    }
    function addThought() {
        const v = document.getElementById('new-thought').value;
        if(v) {
            const li = document.createElement('li'); li.innerHTML = "‚úß " + v + "<hr style='opacity:0.1'>";
            document.getElementById('mini-thought-list').prepend(li);
            document.getElementById('new-thought').value = "";
        }
    }
    function prepareNokia() {
        const text = prompt("Wklej plan dnia:");
        if(text) {
            const out = document.getElementById('nokia-output');
            out.style.display = "block";
            out.innerText = "NOKIA 3310:\n" + text.substring(0, 160).toUpperCase();
        }
    }

    function saveNotes() { localStorage.setItem('arawis_notes', document.getElementById('myNotes').value); alert("Zapisano!"); }
    window.onload = function() { document.getElementById('myNotes').value = localStorage.getItem('arawis_notes') || ""; }
</script>
</body>
</html>
